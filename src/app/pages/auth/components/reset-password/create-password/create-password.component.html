<app-simple-header />
<section
  class="bg-background mx-auto flex select-none justify-center py-[5rem] sm:py-[9rem]"
>
  <section
    class="pass-recovery-card mx-[1rem] flex w-full flex-col gap-[2.5rem] rounded-xl border border-solid border-[#e0e0e0] bg-white p-[1.5rem] text-[#2f2f2f] sm:p-[3.8rem] md:mx-auto md:w-auto"
  >
    <h1 class="mb-[1rem] text-center text-[3rem] font-semibold md:text-start">
      {{ "Password Recovery" | translate }}
    </h1>
    <p class="text-[1.2rem] sm:text-[1.8rem]">
      {{ "Enter new password" | translate }}
    </p>
    <form
      class="login-form flex w-full flex-col gap-[2rem] text-[1.6rem]"
      [formGroup]="passwordForm"
      (ngSubmit)="onSubmit()"
    >
      <fieldset class="password flex flex-col gap-[1.2rem]">
        <label for="password" class="password font-semibold">
          {{ "New Password" | translate }}
        </label>
        <div class="menem-input">
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            class="start"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1_826)">
              <path
                d="M12.6668 5.7015V5.03483C12.6668 3.79715 12.1752 2.61017 11.3 1.735C10.4248 0.859829 9.23784 0.368164 8.00016 0.368164C6.76249 0.368164 5.5755 0.859829 4.70033 1.735C3.82516 2.61017 3.3335 3.79715 3.3335 5.03483V5.7015H1.3335V14.3682C1.3335 14.8986 1.54421 15.4073 1.91928 15.7824C2.29436 16.1575 2.80306 16.3682 3.3335 16.3682H12.6668C13.1973 16.3682 13.706 16.1575 14.081 15.7824C14.4561 15.4073 14.6668 14.8986 14.6668 14.3682V5.7015H12.6668ZM4.66683 5.03483C4.66683 4.15078 5.01802 3.30293 5.64314 2.67781C6.26826 2.05269 7.11611 1.7015 8.00016 1.7015C8.88422 1.7015 9.73206 2.05269 10.3572 2.67781C10.9823 3.30293 11.3335 4.15078 11.3335 5.03483V5.7015H4.66683V5.03483ZM13.3335 14.3682C13.3335 14.545 13.2633 14.7145 13.1382 14.8396C13.0132 14.9646 12.8436 15.0348 12.6668 15.0348H3.3335C3.15668 15.0348 2.98712 14.9646 2.86209 14.8396C2.73707 14.7145 2.66683 14.545 2.66683 14.3682V7.03483H13.3335V14.3682Z"
                fill="#79797A"
              />
              <path
                d="M8.66683 9.70154H7.3335V12.3682H8.66683V9.70154Z"
                fill="#79797A"
              />
            </g>
            <defs>
              <clipPath id="clip0_1_826">
                <rect
                  width="16"
                  height="16"
                  fill="white"
                  transform="translate(0 0.368164)"
                />
              </clipPath>
            </defs>
          </svg>
          <input
            [type]="passType"
            name="password"
            id="password"
            class="password w-full border border-solid border-[#d8d8d8] px-[3rem] py-[1rem] outline-none transition-all hover:border-[#2f2f2f] focus:border-[#2f2f2f] sm:py-[2rem] md:w-[65rem]"
            placeholder="{{ 'New Password' | translate }}"
            formControlName="password"
          />
          @if (isVisible) {
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              class="end"
              viewBox="0 0 256 256"
              (click)="showPassword()"
            >
              <path
                fill="#79797a"
                d="M251 123.13c-.37-.81-9.13-20.26-28.48-39.61C196.63 57.67 164 44 128 44S59.37 57.67 33.51 83.52C14.16 102.87 5.4 122.32 5 123.13a12.08 12.08 0 0 0 0 9.75c.37.82 9.13 20.26 28.49 39.61C59.37 198.34 92 212 128 212s68.63-13.66 94.48-39.51c19.36-19.35 28.12-38.79 28.49-39.61a12.08 12.08 0 0 0 .03-9.75m-46.06 33C183.47 177.27 157.59 188 128 188s-55.47-10.73-76.91-31.88A130.4 130.4 0 0 1 29.52 128a130.5 130.5 0 0 1 21.57-28.11C72.54 78.73 98.41 68 128 68s55.46 10.73 76.91 31.89A130.4 130.4 0 0 1 226.48 128a130.5 130.5 0 0 1-21.57 28.12ZM128 84a44 44 0 1 0 44 44a44.05 44.05 0 0 0-44-44m0 64a20 20 0 1 1 20-20a20 20 0 0 1-20 20"
              />
            </svg>
          } @else {
            <svg
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              class="end"
              xmlns="http://www.w3.org/2000/svg"
              (click)="showPassword()"
            >
              <g clip-path="url(#clip0_1_832)">
                <path
                  d="M15.8806 7.48885C15.2365 6.09199 14.2931 4.85387 13.1172 3.86218L15.1386 1.84085L14.1952 0.896851L11.9999 3.09018C10.7848 2.38733 9.40359 2.02292 7.99991 2.03485C2.99991 2.03485 0.704581 6.20885 0.119247 7.48885C0.040673 7.66039 0 7.84684 0 8.03552C0 8.22419 0.040673 8.41065 0.119247 8.58218C0.763338 9.97904 1.70673 11.2172 2.88258 12.2089L0.861914 14.2302L1.80458 15.1729L3.99991 12.9795C5.21501 13.6824 6.59624 14.0468 7.99991 14.0349C12.9999 14.0349 15.2952 9.86085 15.8806 8.58085C15.959 8.40951 15.9996 8.22329 15.9996 8.03485C15.9996 7.84642 15.959 7.66019 15.8806 7.48885ZM1.33325 8.04218C1.83325 6.94552 3.79525 3.36818 7.99991 3.36818C9.04631 3.36207 10.079 3.60618 11.0119 4.08018L9.83525 5.25685C9.1952 4.83192 8.42785 4.64151 7.6634 4.71795C6.89895 4.79438 6.18449 5.13294 5.64125 5.67619C5.09801 6.21943 4.75944 6.93389 4.68301 7.69834C4.60658 8.46279 4.79698 9.23014 5.22191 9.87018L3.83591 11.2562C2.7695 10.3878 1.91383 9.2889 1.33325 8.04218ZM9.99991 8.03485C9.99991 8.56528 9.7892 9.07399 9.41413 9.44906C9.03906 9.82414 8.53035 10.0349 7.99991 10.0349C7.70292 10.0337 7.41005 9.96533 7.14325 9.83485L9.79991 7.17818C9.93039 7.44498 9.99876 7.73786 9.99991 8.03485ZM5.99991 8.03485C5.99991 7.50442 6.21063 6.99571 6.5857 6.62064C6.96077 6.24556 7.46948 6.03485 7.99991 6.03485C8.29691 6.036 8.58978 6.10438 8.85658 6.23485L6.19991 8.89152C6.06944 8.62472 6.00106 8.33184 5.99991 8.03485ZM7.99991 12.7015C6.95352 12.7076 5.92082 12.4635 4.98791 11.9895L6.16458 10.8129C6.80463 11.2378 7.57198 11.4282 8.33643 11.3518C9.10088 11.2753 9.81534 10.9368 10.3586 10.3935C10.9018 9.85027 11.2404 9.13581 11.3168 8.37136C11.3932 7.60691 11.2028 6.83956 10.7779 6.19952L12.1632 4.81418C13.2318 5.68339 14.0879 6.78489 14.6666 8.03485C14.1572 9.13952 12.1946 12.7015 7.99991 12.7015Z"
                  fill="#79797A"
                />
              </g>
              <defs>
                <clipPath id="clip0_1_832">
                  <rect
                    width="16"
                    height="16"
                    fill="white"
                    transform="translate(0 0.03479)"
                  />
                </clipPath>
              </defs>
            </svg>
          }
        </div>
        @if (
          passwordForm.controls["password"].invalid &&
          passwordForm.controls["password"].touched
        ) {
          @if (passwordForm.controls["password"].errors?.["required"]) {
            <small class="text-rose-700">{{
              "Password is a required field" | translate
            }}</small>
          }
          @if (passwordForm.controls["password"].dirty) {
            <small class="text-rose-700">{{
              "Password must inlcude:" | translate
            }}</small>
            <ul class="list-inside list-disc">
              @if (passwordForm.controls["password"].errors?.["minlength"]) {
                <li>
                  <small class="font-light text-rose-700">{{
                    "Minimum eight characters" | translate
                  }}</small>
                </li>
              } @else if (
                !passwordForm.controls["password"].errors?.["minlength"]
              ) {
                <li>
                  <small class="font-light text-green-700">{{
                    "Minimum eight characters" | translate
                  }}</small>
                </li>
              }
              @if (passwordForm.controls["password"].errors?.["uppercase"]) {
                <li>
                  <small class="font-light text-rose-700">{{
                    "At least one capital letter" | translate
                  }}</small>
                </li>
              } @else if (
                !passwordForm.controls["password"].errors?.["uppercase"]
              ) {
                <li>
                  <small class="font-light text-green-700">{{
                    "At least one capital letter" | translate
                  }}</small>
                </li>
              }
              @if (passwordForm.controls["password"].errors?.["lowercase"]) {
                <li>
                  <small class="font-light text-rose-700">{{
                    "At least one small letter" | translate
                  }}</small>
                </li>
              } @else if (
                !passwordForm.controls["password"].errors?.["lowercase"]
              ) {
                <li>
                  <small class="font-light text-green-700">{{
                    "At least one small letter" | translate
                  }}</small>
                </li>
              }
              @if (passwordForm.controls["password"].errors?.["number"]) {
                <li>
                  <small class="font-light text-rose-700">{{
                    "At least one number" | translate
                  }}</small>
                </li>
              } @else if (
                !passwordForm.controls["password"].errors?.["number"]
              ) {
                <li>
                  <small class="font-light text-green-700">
                    {{ "At least one number" | translate }}
                  </small>
                </li>
              }
              @if (passwordForm.controls["password"].errors?.["symbol"]) {
                <li>
                  <small class="font-light text-rose-700">{{
                    "At least one special character" | translate
                  }}</small>
                </li>
              } @else if (
                !passwordForm.controls["password"].errors?.["symbol"]
              ) {
                <li>
                  <small class="font-light text-green-700">{{
                    "At least one special character" | translate
                  }}</small>
                </li>
              }
            </ul>
          }
        }
      </fieldset>
      <fieldset class="password flex flex-col gap-[1.2rem]">
        <label for="password" class="confirmation font-semibold">
          {{ "Confirm Password" | translate }}
        </label>
        <div class="menem-input">
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            class="start"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1_826)">
              <path
                d="M12.6668 5.7015V5.03483C12.6668 3.79715 12.1752 2.61017 11.3 1.735C10.4248 0.859829 9.23784 0.368164 8.00016 0.368164C6.76249 0.368164 5.5755 0.859829 4.70033 1.735C3.82516 2.61017 3.3335 3.79715 3.3335 5.03483V5.7015H1.3335V14.3682C1.3335 14.8986 1.54421 15.4073 1.91928 15.7824C2.29436 16.1575 2.80306 16.3682 3.3335 16.3682H12.6668C13.1973 16.3682 13.706 16.1575 14.081 15.7824C14.4561 15.4073 14.6668 14.8986 14.6668 14.3682V5.7015H12.6668ZM4.66683 5.03483C4.66683 4.15078 5.01802 3.30293 5.64314 2.67781C6.26826 2.05269 7.11611 1.7015 8.00016 1.7015C8.88422 1.7015 9.73206 2.05269 10.3572 2.67781C10.9823 3.30293 11.3335 4.15078 11.3335 5.03483V5.7015H4.66683V5.03483ZM13.3335 14.3682C13.3335 14.545 13.2633 14.7145 13.1382 14.8396C13.0132 14.9646 12.8436 15.0348 12.6668 15.0348H3.3335C3.15668 15.0348 2.98712 14.9646 2.86209 14.8396C2.73707 14.7145 2.66683 14.545 2.66683 14.3682V7.03483H13.3335V14.3682Z"
                fill="#79797A"
              />
              <path
                d="M8.66683 9.70154H7.3335V12.3682H8.66683V9.70154Z"
                fill="#79797A"
              />
            </g>
            <defs>
              <clipPath id="clip0_1_826">
                <rect
                  width="16"
                  height="16"
                  fill="white"
                  transform="translate(0 0.368164)"
                />
              </clipPath>
            </defs>
          </svg>
          <input
            [type]="confType"
            name="confirmation"
            id="confirmation"
            class="confirmation w-full border border-solid border-[#d8d8d8] px-[3rem] py-[1rem] outline-none transition-all hover:border-[#2f2f2f] focus:border-[#2f2f2f] sm:py-[2rem] md:w-[65rem]"
            placeholder="{{ 'Confirm Password' | translate }}"
            formControlName="confirmation"
          />
          @if (isConVisible) {
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              class="end"
              viewBox="0 0 256 256"
              (click)="showConfirmation()"
            >
              <path
                fill="#79797a"
                d="M251 123.13c-.37-.81-9.13-20.26-28.48-39.61C196.63 57.67 164 44 128 44S59.37 57.67 33.51 83.52C14.16 102.87 5.4 122.32 5 123.13a12.08 12.08 0 0 0 0 9.75c.37.82 9.13 20.26 28.49 39.61C59.37 198.34 92 212 128 212s68.63-13.66 94.48-39.51c19.36-19.35 28.12-38.79 28.49-39.61a12.08 12.08 0 0 0 .03-9.75m-46.06 33C183.47 177.27 157.59 188 128 188s-55.47-10.73-76.91-31.88A130.4 130.4 0 0 1 29.52 128a130.5 130.5 0 0 1 21.57-28.11C72.54 78.73 98.41 68 128 68s55.46 10.73 76.91 31.89A130.4 130.4 0 0 1 226.48 128a130.5 130.5 0 0 1-21.57 28.12ZM128 84a44 44 0 1 0 44 44a44.05 44.05 0 0 0-44-44m0 64a20 20 0 1 1 20-20a20 20 0 0 1-20 20"
              />
            </svg>
          } @else {
            <svg
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              class="end"
              xmlns="http://www.w3.org/2000/svg"
              (click)="showConfirmation()"
            >
              <g clip-path="url(#clip0_1_832)">
                <path
                  d="M15.8806 7.48885C15.2365 6.09199 14.2931 4.85387 13.1172 3.86218L15.1386 1.84085L14.1952 0.896851L11.9999 3.09018C10.7848 2.38733 9.40359 2.02292 7.99991 2.03485C2.99991 2.03485 0.704581 6.20885 0.119247 7.48885C0.040673 7.66039 0 7.84684 0 8.03552C0 8.22419 0.040673 8.41065 0.119247 8.58218C0.763338 9.97904 1.70673 11.2172 2.88258 12.2089L0.861914 14.2302L1.80458 15.1729L3.99991 12.9795C5.21501 13.6824 6.59624 14.0468 7.99991 14.0349C12.9999 14.0349 15.2952 9.86085 15.8806 8.58085C15.959 8.40951 15.9996 8.22329 15.9996 8.03485C15.9996 7.84642 15.959 7.66019 15.8806 7.48885ZM1.33325 8.04218C1.83325 6.94552 3.79525 3.36818 7.99991 3.36818C9.04631 3.36207 10.079 3.60618 11.0119 4.08018L9.83525 5.25685C9.1952 4.83192 8.42785 4.64151 7.6634 4.71795C6.89895 4.79438 6.18449 5.13294 5.64125 5.67619C5.09801 6.21943 4.75944 6.93389 4.68301 7.69834C4.60658 8.46279 4.79698 9.23014 5.22191 9.87018L3.83591 11.2562C2.7695 10.3878 1.91383 9.2889 1.33325 8.04218ZM9.99991 8.03485C9.99991 8.56528 9.7892 9.07399 9.41413 9.44906C9.03906 9.82414 8.53035 10.0349 7.99991 10.0349C7.70292 10.0337 7.41005 9.96533 7.14325 9.83485L9.79991 7.17818C9.93039 7.44498 9.99876 7.73786 9.99991 8.03485ZM5.99991 8.03485C5.99991 7.50442 6.21063 6.99571 6.5857 6.62064C6.96077 6.24556 7.46948 6.03485 7.99991 6.03485C8.29691 6.036 8.58978 6.10438 8.85658 6.23485L6.19991 8.89152C6.06944 8.62472 6.00106 8.33184 5.99991 8.03485ZM7.99991 12.7015C6.95352 12.7076 5.92082 12.4635 4.98791 11.9895L6.16458 10.8129C6.80463 11.2378 7.57198 11.4282 8.33643 11.3518C9.10088 11.2753 9.81534 10.9368 10.3586 10.3935C10.9018 9.85027 11.2404 9.13581 11.3168 8.37136C11.3932 7.60691 11.2028 6.83956 10.7779 6.19952L12.1632 4.81418C13.2318 5.68339 14.0879 6.78489 14.6666 8.03485C14.1572 9.13952 12.1946 12.7015 7.99991 12.7015Z"
                  fill="#79797A"
                />
              </g>
              <defs>
                <clipPath id="clip0_1_832">
                  <rect
                    width="16"
                    height="16"
                    fill="white"
                    transform="translate(0 0.03479)"
                  />
                </clipPath>
              </defs>
            </svg>
          }
          @if (
            passwordForm.controls["confirmation"].invalid &&
            passwordForm.controls["confirmation"].touched &&
            passwordForm.controls["confirmation"].errors?.["required"]
          ) {
            <small class="text-rose-700">{{
              "Please confirm your password" | translate
            }}</small>
          }
          @if (
            !passwordForm.controls["confirmation"].errors?.["required"] &&
            passwordForm.controls["confirmation"].touched &&
            passwordForm.errors?.["passwordMismatch"]
          ) {
            <small class="text-rose-700">{{
              "Passwords do not match" | translate
            }}</small>
          }
        </div>
      </fieldset>
      <button
        type="submit"
        class="bg-primary hover:text-orange w-full cursor-pointer py-[1.2rem] text-[1.8rem] text-white transition-all disabled:cursor-default disabled:bg-gray-500 disabled:text-white sm:py-[1.5rem]"
        [disabled]="passwordForm.invalid"
      >
        {{ "Confirm New Password" | translate }}
      </button>
    </form>
  </section>
</section>
